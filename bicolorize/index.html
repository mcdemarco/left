---
layout: page
title: Bicolorize
menu: tools
---

<p>Bicolorize is a bookmarklet for bicolorizing text, inspired by the <!-- http://lazyeyegames.wordpress.com/lazy-eye-reader/ -->Lazy Eye Reader formerly at <a href="http://lazyeyegames.com">Lazy Eye Games</a>.  (There's now one <a href="https://www.lazyeyetraining.com/lazy-eye-reader/">Lazy Eye Training</a>.)  When viewed with <a href="http://en.wikipedia.org/wiki/Anaglyph_3D">anaglyph (3D) glasses</a>, half the letters will be visible to one eye and the other half to the other eye.  For this to work, the background also needs to be a fixed color, which the bookmarklet sets.</p>

<p>You can also play bicolor tetris here or at <a href="https://lazyeyetetris.wordpress.com">Lazy Eye Tetris</a>.</p>

    <h2>Demo</h2>

    <p>Some before-and-after text to show how it comes out:</p>
    <iframe src="sample-unbicolorized.html" style="width:49%;height:100px;"></iframe>
    <iframe src="sample-bicolorized.html" id="bicolorme" style="width:49%;height:100px;"></iframe>


      <h2>Configure</h2>
      
      <p>To configure the bookmarklet (and Tetris), select your anaglyph glasses style, and then check the preview to make sure that one color is invisible in each eye.  You can tweak the colors or enter your own by clicking on the <em>other</em> option.  You can also set your background color and the number of letters you want per chunk of text.</p>

	<div style="width:30%;float:right;"><b>Preview:</b>
	<div id="configDemo" style="text-align:center;background-color:#ffffff;padding:20px;border:1px solid gray;">
	  <span id="configLeft" style="color:#ffff00;padding-right:20px;">invisible left text</span>
	  <span id="configRight" style="color:#00ffff;">invisible right text</span>
	</div>
      </div>
      <form id="configurator" onclick="refreshDemo();">
	<div>
	  <b>Anaglyph glasses:</b><br/>
	  <input type="radio" name="glasses" onclick="document.getElementById('left').value='#ff0000';document.getElementById('right').value='#00cc00';if (document.getElementById('back').value == '#ffffff') invertColors();" id="red-green"> <label for="red-green">red-green</label>
	  <input type="radio" name="glasses" onclick="document.getElementById('left').value='#ff0000';document.getElementById('right').value='#0000ff';if (document.getElementById('back').value == '#ffffff') invertColors();" id="red-blue" checked> <label for="red-blue">red-blue</label>
	  <input type="radio" name="glasses" onclick="document.getElementById('left').value='#ff0000';document.getElementById('right').value='#00ccff';if (document.getElementById('back').value == '#ffffff') invertColors();" id="red-cyan"> <label for="red-cyan">red-cyan</label>
	  <input type="radio" name="glasses" onclick="document.getElementById('left').value='#cc0000';document.getElementById('right').value='#99ccff';if (document.getElementById('back').value == '#ffffff') invertColors();" id="darkred-darkcyan"> <label for="darkred-darkcyan">dark red-dark cyan</label><br/>
	  <input type="radio" name="glasses" onclick="document.getElementById('left').value='#00cc00';document.getElementById('right').value='#cc00cc';if (document.getElementById('back').value == '#ffffff') invertColors();" id="green-magenta"> <label for="green-magenta">green-magenta</label>
	  <input type="radio" name="glasses" onclick="document.getElementById('left').value='#777733';document.getElementById('right').value='#000099';if (document.getElementById('back').value == '#ffffff') invertColors();" id="amber-darkblue"> <label for="amber-darkblue">amber-dark blue</label>
	  <input type="radio" name="glasses" onclick="document.getElementById('left').value='#cc00cc';document.getElementById('right').value='#00ccff';if (document.getElementById('back').value == '#ffffff') invertColors();" id="magenta-cyan"> <label for="magenta-cyan">magenta-cyan</label><br/>
	  <input type="radio" name="glasses" onclick="document.getElementById('advancedConfig').style.display = 'block';if (document.getElementById('back').value != '#ffffff') invertColors(); document.getElementById('back').value = '#ffffff';" id="other-other"> <label for="other-other">other</label>
	  <button type="button" name="reverse" onclick="var tmp = document.getElementById('left').value;document.getElementById('left').value = document.getElementById('right').value; document.getElementById('right').value = tmp;" id="reverse">reverse eyes</button>
	  <div id="advancedConfig" style="display:none;">
	    <label for="left">Left Eye:</label> <input type="text" id="left" value="#ffff00">
	    <label for="right">Right Eye:</label> <input type="text" id="right" value="#00ffff">
	  </div>
	</div>
	<div>
	  <input type="radio" name="background" onclick="if (document.getElementById('back').value != '#ffffff') invertColors(); document.getElementById('back').value = '#ffffff'" id="white" checked> <label for="white">white background</label>
	  <input type="radio" name="background" onclick="if (document.getElementById('back').value != '#000000') invertColors(); document.getElementById('back').value = '#000000';" id="black"> <label for="black">black background</label>
	  <input type="hidden" id="back" value="#ffffff">
	</div>
	<div>
	  <input type="text" name="chunk" onclick="" id="chunk" size="2" value="5"> <label for="chunk">chunk size</label>
	</div>
      </form>


      <h2>Install the Bookmarklet</h2>

      <p>To install, drag this link to your Favorites or Bookmarks bar: <a id='bookmarkletAnchor' href=''>Bicolorize</a>.</p>

    <p>To install directly on an iPhone or iPad, you can follow <a href="https://stevesouders.com/mobileperf/iphonesteps.php">these instructions on adding a bookmarklet to Mobile Safari</a>, but I find it's easier to add the bookmarklet to desktop Safari and let iCloud sync it.  (Syncing can be set up under Settings | iCloud | Safari on iOS, and System Preferences | iCloud | Safari on MacOS.)</p>

    <h2>Read</h2>

    <p>Go to a web page you want to read and click the bookmarklet.  The text should be transformed as in the demo below.  To undo, reload the page.</p>

    <p>The bookmarklet will also colorize some iframes.  If you have trouble with an iframe, open it in a separate window or tab and try the bookmarklet again.
      <!-- so you can use it on an iframe-based ePub reader like <a href="https://github.com/futurepress/epub.js/">ePub.js</a>.  Try it out on <a href="http://futurepress.github.io/epub.js">their samples</a--></p>

    <h2>Play Tetris</h2>

    <p>You can also <a id="tetrisAnchor" href="">play Tetris</a> using your configuration settings.  The code is <a href="https://github.com/mcdemarco/javascript-tetris">available on Github</a>.</p>


    <script type="text/javascript">
     function invertColor(hexTripletColor) {
       var color = hexTripletColor;
       color = color.substring(1);           // remove #
       color = parseInt(color, 16);          // convert to integer
       color = 0xFFFFFF ^ color;             // invert three bytes
       color = color.toString(16);           // convert to hex
       color = ("000000" + color).slice(-6); // pad with leading zeros
       color = "#" + color;                  // prepend #
       return color;
     }
     function invertColors() {
       document.getElementById('left').value = invertColor(document.getElementById('left').value);
       document.getElementById('right').value = invertColor(document.getElementById('right').value);
     }
     function refreshDemo() {
       document.getElementById('configLeft').style.color = document.getElementById('left').value;
       document.getElementById('configRight').style.color = document.getElementById('right').value;
       document.getElementById('configDemo').style.backgroundColor = document.getElementById('back').value;
       setUrls(document.getElementById('left').value,document.getElementById('right').value,document.getElementById('back').value,document.getElementById('chunk').value)
     }
     function setUrls(leftArg,rightArg,backArg,chunkArg) {
       var argumentString = '("#FFFF00","#00FFFF","#FFFFFF",5)';
       if (leftArg) {
	 argumentString = "('" + leftArg + "','" +  rightArg + "','" +  backArg + "'," +  chunkArg + ")";
       }
       var qString = "?left=" + encodeURIComponent(leftArg ? leftArg : '#FFFF00')  + 
			"&right=" + encodeURIComponent(rightArg ? rightArg : '#00FFFF') + 
			"&back=" + encodeURIComponent(backArg ? backArg : '#FFFFFF');

       var bookmarklet = 'javascript:(function(e,t,n,r){function o(i){function a(e){if(e.nodeType===3)f(e);else if(e.hasChildNodes()){for(var t=0;t<e.childNodes.length;t++){a(e.childNodes[t])}}}function f(e){var t=i.createElement("span");for(var n=0;n<e.nodeValue.length;n+=r){var s=i.createElement("span");s.className="bcz-"+(u?"l":"r");s.appendChild(i.createTextNode(e.nodeValue.substring(n,n+r)));u=!u;t.appendChild(s)}e.parentNode.replaceChild(t,e)}var s="body, *, *[style] { background-color: "+n+" !important; background-image: none !important; } \n"+"body, span.bcz-l { color: "+e+"; } \n"+"a, span.bcz-r { color: "+t+"; }";var o=i.createElement("style");o.type="text/css";o.appendChild(i.createTextNode(s));i.head.appendChild(o);var u=true;a(i.body)}if(!r)r=5;o(document);var i=document.getElementsByTagName("iframe");for(var s=0;s<i.length;s++){i[s].onload=o(i[s].contentDocument)}})';
       var tetrisLink = "tetris.html";

       document.getElementById('bookmarkletAnchor').href = bookmarklet + argumentString;
       document.getElementById('tetrisAnchor').href = tetrisLink + qString;
     }

     document.addEventListener("DOMContentLoaded", function(event) {
       setUrls();
     });
    </script>
